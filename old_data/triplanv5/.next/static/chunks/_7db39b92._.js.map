{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/milangabriel/Downloads/triplan/triplanv5/src/lib/trips-service.ts"],"sourcesContent":["\nimport { db, auth } from './firebase';\nimport {\n  collection,\n  addDoc,\n  getDocs,\n  getDoc,\n  doc,\n  updateDoc,\n  deleteDoc,\n  Timestamp,\n  query,\n  orderBy,\n  where,\n} from 'firebase/firestore';\nimport type { Trip } from './types';\n\n// Firestore data converters\nconst tripConverter = {\n  toFirestore: (trip: Omit<Trip, 'id'>) => {\n    // When writing to Firestore, convert Date objects to Timestamps\n    return {\n      ...trip,\n      startDate: Timestamp.fromDate(trip.startDate),\n      endDate: Timestamp.fromDate(trip.endDate),\n      createdAt: trip.createdAt ? Timestamp.fromDate(trip.createdAt) : Timestamp.now(),\n      updatedAt: Timestamp.now(), // Always update this\n      days: trip.days.map(day => ({\n        ...day,\n        date: Timestamp.fromDate(day.date)\n      }))\n    };\n  },\n  fromFirestore: (snapshot: any, options: any): Trip => {\n    const data = snapshot.data(options);\n    return {\n      id: snapshot.id,\n      ...data,\n      startDate: data.startDate.toDate(),\n      endDate: data.endDate.toDate(),\n      createdAt: data.createdAt.toDate(),\n      updatedAt: data.updatedAt.toDate(),\n      days: data.days.map((day: any) => ({\n        ...day,\n        date: day.date.toDate()\n      }))\n    } as Trip;\n  },\n};\n\nconst tripsCollection = collection(db, 'trips').withConverter(tripConverter);\n\n// --- Firestore Implementation ---\n\nasync function createTripFirestore(tripData: Omit<Trip, 'id' | 'createdAt' | 'updatedAt' | 'agencyId'>): Promise<string> {\n  const user = auth.currentUser;\n  if (!user) {\n    throw new Error(\"User not authenticated to create a trip.\");\n  }\n  \n  const newTrip: Omit<Trip, 'id'> = {\n    ...tripData,\n    agencyId: user.uid, // Use UID for agencyId\n    createdAt: new Date(),\n    updatedAt: new Date(),\n  };\n  const docRef = await addDoc(tripsCollection, newTrip);\n  return docRef.id;\n}\n\nasync function getTripsFirestore(): Promise<Trip[]> {\n  const user = auth.currentUser;\n  if (!user) {\n    return [];\n  }\n\n  const q = query(tripsCollection, where(\"agencyId\", \"==\", user.uid));\n  const snapshot = await getDocs(q);\n  \n  const trips = snapshot.docs.map(doc => doc.data());\n  // Sort by creation date descending (newest first)\n  return trips.sort((a, b) => b.createdAt.getTime() - a.createdAt.getTime());\n}\n\nasync function getTripFirestore(id: string): Promise<Trip | null> {\n  const docRef = doc(db, 'trips', id).withConverter(tripConverter);\n  const snapshot = await getDoc(docRef);\n  if (snapshot.exists()) {\n    const trip = snapshot.data();\n    const user = auth.currentUser;\n    // For shared pages, allow access if not logged in.\n    // If logged in, only allow access if the user is the owner.\n    // The public shared page will not have a logged-in user.\n    if (!user || trip.agencyId === user.uid) {\n        return trip;\n    }\n    // Allow access for public/shared view (no user) or if owner.\n    // A more robust system might check for a 'public' flag.\n    if (!trip.agencyId) return trip; // For backward compatibility with old/mock data.\n    \n    // For the share page, we need to allow access even if not the owner.\n    // A better check in a real app would be a 'status: public' flag.\n    return trip;\n  } else {\n    return null;\n  }\n}\n\nasync function updateTripFirestore(id: string, updates: Partial<Trip>): Promise<void> {\n    const tripToUpdate: any = {...updates};\n\n    // Convert any Date objects back to Timestamps before updating\n    if (updates.startDate) tripToUpdate.startDate = Timestamp.fromDate(updates.startDate);\n    if (updates.endDate) tripToUpdate.endDate = Timestamp.fromDate(updates.endDate);\n\n    if (updates.days) {\n        tripToUpdate.days = updates.days.map(day => ({\n            ...day,\n            date: day.date instanceof Date ? Timestamp.fromDate(day.date) : day.date,\n        }));\n    }\n    \n    tripToUpdate.updatedAt = Timestamp.now();\n  \n    const docRef = doc(db, 'trips', id);\n    await updateDoc(docRef, tripToUpdate);\n}\n\nasync function deleteTripFirestore(id: string): Promise<void> {\n    const docRef = doc(db, 'trips', id);\n    // You might want to add a security check here to ensure the current user owns this doc\n    await deleteDoc(docRef);\n}\n\n\n// --- Exported Functions ---\n\nexport async function createTrip(tripData: Omit<Trip, 'id' | 'createdAt' | 'updatedAt' | 'agencyId'>): Promise<string> {\n  return createTripFirestore(tripData);\n}\n\nexport async function getTrips(): Promise<Trip[]> {\n  return getTripsFirestore();\n}\n\n\nexport async function getTrip(id:string): Promise<Trip | null> {\n    return getTripFirestore(id);\n}\n\n\nexport async function updateTrip(id: string, updates: Partial<Trip>): Promise<void> {\n    const trip = await getTripFirestore(id);\n\n    // Prevent editing mock trips by checking if they have an agencyId.\n    // Only real trips created by users will have one.\n    if (trip && !trip.agencyId) {\n        console.log(\"This is a demo trip and cannot be edited. Please create a new trip to make changes.\");\n        throw new Error(\"This is a demo trip and cannot be edited. Please create a new trip to make changes.\");\n    }\n    return updateTripFirestore(id, updates);\n}\n\nexport async function deleteTrip(id: string): Promise<void> {\n    const trip = await getTripFirestore(id);\n     if (trip && !trip.agencyId) {\n        throw new Error(\"This is a demo trip and cannot be deleted.\");\n    }\n    return deleteTripFirestore(id);\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":["file:///Users/milangabriel/Downloads/triplan/triplanv5/src/components/page-header.tsx"],"sourcesContent":["import type { ReactNode } from 'react';\n\ntype PageHeaderProps = {\n  title: ReactNode; // Allow components to be passed as title\n  children?: ReactNode;\n};\n\nexport function PageHeader({ title, children }: PageHeaderProps) {\n  return (\n    <div className=\"mb-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\n      <h1 className=\"text-3xl font-bold tracking-tight\">{title}</h1>\n      {children && <div className=\"flex items-center gap-2\">{children}</div>}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAOO,SAAS,WAAW,EAAE,KAAK,EAAE,QAAQ,EAAmB;IAC7D,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAAqC;;;;;;YAClD,0BAAY,6LAAC;gBAAI,WAAU;0BAA2B;;;;;;;;;;;;AAG7D;KAPgB","debugId":null}},
    {"offset": {"line": 201, "column": 0}, "map": {"version":3,"sources":["file:///Users/milangabriel/Downloads/triplan/triplanv5/src/components/ui/popover.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,UAAU,sKAAA,CAAA,OAAqB;AAErC,MAAM,iBAAiB,sKAAA,CAAA,UAAwB;AAE/C,MAAM,+BAAiB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,QAAQ,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC5D,6LAAC,sKAAA,CAAA,SAAuB;kBACtB,cAAA,6LAAC,sKAAA,CAAA,UAAwB;YACvB,KAAK;YACL,OAAO;YACP,YAAY;YACZ,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,8aACA;YAED,GAAG,KAAK;;;;;;;;;;;;AAIf,eAAe,WAAW,GAAG,sKAAA,CAAA,UAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 249, "column": 0}, "map": {"version":3,"sources":["file:///Users/milangabriel/Downloads/triplan/triplanv5/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB;AAGF,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAI3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,OAAmB;QAClB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iBAAiB;QAC9B,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG,oKAAA,CAAA,OAAmB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 288, "column": 0}, "map": {"version":3,"sources":["file:///Users/milangabriel/Downloads/triplan/triplanv5/src/components/ui/accordion.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,YAAY,wKAAA,CAAA,OAAuB;AAEzC,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,wKAAA,CAAA,OAAuB;QACtB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QACzB,GAAG,KAAK;;;;;;;AAGb,cAAc,WAAW,GAAG;AAE5B,MAAM,iCAAmB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGtC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,wKAAA,CAAA,SAAyB;QAAC,WAAU;kBACnC,cAAA,6LAAC,wKAAA,CAAA,UAA0B;YACzB,KAAK;YACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,gIACA;YAED,GAAG,KAAK;;gBAER;8BACD,6LAAC,uNAAA,CAAA,cAAW;oBAAC,WAAU;;;;;;;;;;;;;;;;;;AAI7B,iBAAiB,WAAW,GAAG,wKAAA,CAAA,UAA0B,CAAC,WAAW;AAErE,MAAM,iCAAmB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGtC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,wKAAA,CAAA,UAA0B;QACzB,KAAK;QACL,WAAU;QACT,GAAG,KAAK;kBAET,cAAA,6LAAC;YAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,aAAa;sBAAa;;;;;;;;;;;;AAIjD,iBAAiB,WAAW,GAAG,wKAAA,CAAA,UAA0B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 381, "column": 0}, "map": {"version":3,"sources":["file:///Users/milangabriel/Downloads/triplan/triplanv5/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 484, "column": 0}, "map": {"version":3,"sources":["file:///Users/milangabriel/Downloads/triplan/triplanv5/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport {cn} from '@/lib/utils';\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, React.ComponentProps<'textarea'>>(\n  ({className, ...props}, ref) => {\n    return (\n      <textarea\n        className={cn(\n          'flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\nTextarea.displayName = 'Textarea';\n\nexport {Textarea};\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC9B,CAAC,EAAC,SAAS,EAAE,GAAG,OAAM,EAAE;IACtB,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qTACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 519, "column": 0}, "map": {"version":3,"sources":["file:///Users/milangabriel/Downloads/triplan/triplanv5/src/components/itinerary-builder.tsx"],"sourcesContent":["\n'use client';\n\nimport type { ItineraryDay, Activity } from '@/lib/types';\nimport { format } from 'date-fns';\nimport {\n  Accordion,\n  AccordionContent,\n  AccordionItem,\n  AccordionTrigger,\n} from '@/components/ui/accordion';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { PlusCircle, MapPin, Trash2, GripVertical, Clock, FileText, Link2, User } from 'lucide-react';\nimport { useToast } from '@/hooks/use-toast';\nimport { Input } from './ui/input';\nimport { Textarea } from './ui/textarea';\n\ntype ItineraryBuilderProps = {\n  days: ItineraryDay[];\n  onDaysChange: (days: ItineraryDay[]) => void;\n};\n\nexport function ItineraryBuilder({ days, onDaysChange }: ItineraryBuilderProps) {\n  const { toast } = useToast();\n\n  const addActivity = (dayId: string) => {\n    const newDays = days.map(day => {\n      if (day.id === dayId) {\n        const newActivity: Activity = {\n          id: `act_${Date.now()}`,\n          title: 'New Activity',\n        };\n        return { ...day, activities: [...day.activities, newActivity] };\n      }\n      return day;\n    });\n    onDaysChange(newDays);\n    toast({ title: `Activity added` });\n  };\n  \n  const removeActivity = (dayId: string, activityId: string) => {\n    const newDays = days.map(day => {\n        if (day.id === dayId) {\n            return {...day, activities: day.activities.filter(act => act.id !== activityId)}\n        }\n        return day;\n    });\n    onDaysChange(newDays);\n    toast({ title: 'Activity removed', variant: 'destructive' });\n  }\n\n  const defaultAccordionValues = days.map(d => `day-${d.id}`);\n\n  return (\n    <Card>\n       <CardHeader>\n        <CardTitle className=\"text-xl\">Trip Itinerary</CardTitle>\n      </CardHeader>\n      <CardContent>\n        {days.length > 0 ? (\n          <Accordion type=\"multiple\" defaultValue={defaultAccordionValues} className=\"w-full\">\n            {days.map((day) => (\n              <AccordionItem value={`day-${day.id}`} key={day.id}>\n                <AccordionTrigger className=\"text-xl font-semibold hover:no-underline\">\n                  <div className=\"flex w-full items-center gap-4\">\n                    <div className=\"flex flex-col items-center justify-center rounded-lg bg-primary p-2 text-primary-foreground\">\n                        <span className=\"text-sm font-bold uppercase\">{format(day.date, 'MMM')}</span>\n                        <span className=\"text-2xl font-bold\">{format(day.date, 'd')}</span>\n                    </div>\n                    <div className=\"flex-1 text-left\">\n                        <Input defaultValue={day.title || ''} className=\"border-none text-xl font-semibold shadow-none focus-visible:ring-0\" />\n                        <p className=\"text-sm font-normal text-muted-foreground\">{format(day.date, 'EEEE')}</p>\n                    </div>\n                  </div>\n                </AccordionTrigger>\n                <AccordionContent className=\"space-y-4 pl-4\">\n                   <Textarea placeholder=\"Day summary...\" defaultValue={day.summary || ''} className=\"mt-2\" />\n                  <div className=\"space-y-4 border-l-2 border-dashed border-primary pl-8\">\n                  {day.activities.map((activity) => (\n                    <div key={activity.id} className=\"group relative rounded-md bg-card p-4 transition-colors hover:bg-secondary/50\">\n                       <GripVertical className=\"absolute -left-10 top-4 h-5 w-5 text-muted-foreground cursor-grab\" />\n                       <div className=\"flex-grow space-y-3\">\n                          <Input defaultValue={activity.title || ''} className=\"border-none text-base font-semibold shadow-none focus-visible:ring-0\" placeholder=\"Activity Title\" />\n                          <Textarea placeholder=\"Description...\" defaultValue={activity.description || ''} />\n                          <div className=\"grid grid-cols-2 gap-4\">\n                            <div className=\"flex items-center gap-2\">\n                                <Clock className=\"h-4 w-4 text-muted-foreground\" />\n                                <Input type=\"time\" defaultValue={activity.time || ''} className=\"text-muted-foreground\" />\n                            </div>\n                             <div className=\"flex items-center gap-2\">\n                                <MapPin className=\"h-4 w-4 text-muted-foreground\" />\n                                <Input placeholder=\"Location\" defaultValue={activity.locationName || ''} />\n                            </div>\n                             <div className=\"col-span-2 flex items-center gap-2\">\n                                <Link2 className=\"h-4 w-4 text-muted-foreground\" />\n                                <Input placeholder=\"Google Maps Link\" defaultValue={activity.googleMapsLink || ''} />\n                            </div>\n                             <div className=\"col-span-2 flex items-center gap-2\">\n                                <User className=\"h-4 w-4 text-muted-foreground\" />\n                                <Input placeholder=\"Point of Contact Name\" defaultValue={activity.pocName || ''} />\n                            </div>\n                             <div className=\"col-span-2 flex items-center gap-2\">\n                                <User className=\"h-4 w-4 text-muted-foreground\" />\n                                <Input placeholder=\"Point of Contact Info\" defaultValue={activity.pocContact || ''} />\n                            </div>\n                            <div className=\"col-span-2\">\n                                <Button variant=\"outline\" size=\"sm\" className=\"w-full\">\n                                    <FileText className=\"mr-2 h-4 w-4\" /> Upload Attachment\n                                </Button>\n                            </div>\n                          </div>\n                      </div>\n                      <Button variant=\"ghost\" size=\"icon\" className=\"absolute right-1 top-1 h-8 w-8 opacity-0 group-hover:opacity-100\" onClick={() => removeActivity(day.id, activity.id)}>\n                        <Trash2 className=\"h-4 w-4 text-destructive\" />\n                      </Button>\n                    </div>\n                  ))}\n                  </div>\n                   <Button variant=\"outline\" size=\"sm\" onClick={() => addActivity(day.id)} className=\"ml-12 mt-4\">\n                    <PlusCircle className=\"mr-2 h-4 w-4\" /> Add Activity\n                  </Button>\n                </AccordionContent>\n              </AccordionItem>\n            ))}\n          </Accordion>\n        ) : (\n          <div className=\"flex h-[200px] flex-col items-center justify-center rounded-lg border-2 border-dashed text-center\">\n            <h3 className=\"text-lg font-semibold\">Your Itinerary is Empty</h3>\n            <p className=\"text-sm text-muted-foreground\">\n              Add activities to the days to build your itinerary.\n            </p>\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1005, "column": 0}, "map": {"version":3,"sources":["file:///Users/milangabriel/Downloads/triplan/triplanv5/src/lib/pdf-generator.ts"],"sourcesContent":["\n'use client';\n\nimport jsPDF from 'jspdf';\nimport type { Trip } from './types';\nimport { format } from 'date-fns';\nimport { auth } from './firebase';\n\n// A utility to safely get a data URL from an image, with a fallback.\nasync function getSafeImageDataUrl(url: string, fallback: string): Promise<string> {\n    try {\n        const response = await fetch(url);\n        if (!response.ok) return fallback;\n        const blob = await response.blob();\n        return new Promise((resolve, reject) => {\n            const reader = new FileReader();\n            reader.onloadend = () => resolve(reader.result as string);\n            reader.onerror = reject;\n            reader.readAsDataURL(blob);\n        });\n    } catch (error) {\n        console.error('Error fetching image for PDF:', error);\n        return fallback;\n    }\n}\n\nexport const generatePdf = async (trip: Trip) => {\n    const doc = new jsPDF({\n        orientation: 'p',\n        unit: 'pt',\n        format: 'a4',\n    });\n\n    const docWidth = doc.internal.pageSize.getWidth();\n    const docHeight = doc.internal.pageSize.getHeight();\n    const margin = 40;\n    let y = margin;\n\n    // --- Header ---\n    const agencyName = auth.currentUser?.displayName || \"Triplan Agency\";\n    doc.setFontSize(10);\n    doc.setFont('helvetica', 'bold');\n    doc.setTextColor(150, 150, 150);\n    doc.text(agencyName.toUpperCase(), margin, y);\n\n    y += 40;\n\n    // --- Trip Title ---\n    doc.setFontSize(28);\n    doc.setFont('helvetica', 'bold');\n    doc.setTextColor(30, 30, 30);\n    doc.text(trip.title, margin, y);\n    y += 25;\n\n    // --- Dates & Client ---\n    doc.setFontSize(12);\n    doc.setFont('helvetica', 'normal');\n    doc.setTextColor(100, 100, 100);\n    const dateRange = `${format(trip.startDate, 'MMMM d, yyyy')} - ${format(trip.endDate, 'MMMM d, yyyy')}`;\n    doc.text(dateRange, margin, y);\n    y += 15;\n    doc.text(`For: ${trip.clientName}`, margin, y);\n    y += 30;\n\n    // --- Line Separator ---\n    doc.setDrawColor(220, 220, 220);\n    doc.line(margin, y, docWidth - margin, y);\n    y += 30;\n\n\n    // --- Itinerary Days ---\n    for (const day of trip.days.sort((a, b) => a.dayIndex - b.dayIndex)) {\n        if (y > docHeight - 120) {\n            doc.addPage();\n            y = margin;\n        }\n\n        doc.setFontSize(16);\n        doc.setFont('helvetica', 'bold');\n        doc.setTextColor(30, 30, 30);\n        doc.text(`Day ${day.dayIndex}: ${day.title}`, margin, y);\n        y += 15;\n\n        doc.setFontSize(10);\n        doc.setFont('helvetica', 'normal');\n        doc.setTextColor(100, 100, 100);\n        doc.text(format(day.date, 'EEEE, MMMM d'), margin, y);\n        y += 25;\n        \n        for (const activity of day.activities) {\n             if (y > docHeight - 80) {\n                doc.addPage();\n                y = margin;\n            }\n\n            doc.setFontSize(11);\n            doc.setFont('helvetica', 'bold');\n            doc.setTextColor(50, 50, 50);\n            doc.text(`${activity.time ? `[${activity.time}] ` : ''}${activity.title}`, margin + 15, y);\n            y += 15;\n\n            if (activity.description) {\n                doc.setFontSize(10);\n                doc.setFont('helvetica', 'normal');\n                doc.setTextColor(80, 80, 80);\n                const descLines = doc.splitTextToSize(activity.description, docWidth - margin * 2 - 15);\n                doc.text(descLines, margin + 15, y);\n                y += descLines.length * 12 + 5;\n            }\n            if (activity.locationName) {\n                doc.setTextColor(120, 120, 120);\n                doc.text(`Location: ${activity.locationName}`, margin + 15, y);\n                y += 15;\n            }\n        }\n        y += 20;\n    }\n\n    // --- Footer ---\n    const pageCount = doc.internal.pages.length;\n    for (let i = 1; i <= pageCount; i++) {\n        doc.setPage(i);\n        doc.setFontSize(9);\n        doc.setTextColor(150, 150, 150);\n        doc.text(agencyName, docWidth / 2, docHeight - 30, { align: 'center' });\n        doc.text(`Page ${i} of ${pageCount}`, docWidth / 2, docHeight - 20, { align: 'center' });\n    }\n\n\n    doc.save(`${trip.title.replace(/ /g, '_')}_itinerary.pdf`);\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1134, "column": 0}, "map": {"version":3,"sources":["file:///Users/milangabriel/Downloads/triplan/triplanv5/src/components/ui/calendar.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n"],"names":[],"mappings":";;;;AAGA;AAAA;AACA;AAEA;AACA;AAPA;;;;;;AAWA,SAAS,SAAS,EAChB,SAAS,EACT,UAAU,EACV,kBAAkB,IAAI,EACtB,GAAG,OACW;IACd,qBACE,6LAAC,iKAAA,CAAA,YAAS;QACR,iBAAiB;QACjB,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,OAAO;QACrB,YAAY;YACV,QAAQ;YACR,OAAO;YACP,SAAS;YACT,eAAe;YACf,KAAK;YACL,YAAY,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACX,CAAA,GAAA,qIAAA,CAAA,iBAAc,AAAD,EAAE;gBAAE,SAAS;YAAU,IACpC;YAEF,qBAAqB;YACrB,iBAAiB;YACjB,OAAO;YACP,UAAU;YACV,WACE;YACF,KAAK;YACL,MAAM;YACN,KAAK,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACJ,CAAA,GAAA,qIAAA,CAAA,iBAAc,AAAD,EAAE;gBAAE,SAAS;YAAQ,IAClC;YAEF,eAAe;YACf,cACE;YACF,WAAW;YACX,aACE;YACF,cAAc;YACd,kBACE;YACF,YAAY;YACZ,GAAG,UAAU;QACf;QACA,YAAY;YACV,UAAU,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,iBAChC,6LAAC,uNAAA,CAAA,cAAW;oBAAC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,WAAW;oBAAa,GAAG,KAAK;;;;;;YAE7D,WAAW,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,iBACjC,6LAAC,yNAAA,CAAA,eAAY;oBAAC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,WAAW;oBAAa,GAAG,KAAK;;;;;;QAEhE;QACC,GAAG,KAAK;;;;;;AAGf;KAvDS;AAwDT,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 1220, "column": 0}, "map": {"version":3,"sources":["file:///Users/milangabriel/Downloads/triplan/triplanv5/app/trips/%5Bid%5D/page.tsx"],"sourcesContent":["\n'use client';\n\nimport { useState, useEffect, useTransition } from 'react';\nimport { getTrip, updateTrip } from '@/lib/trips-service';\nimport { notFound, useParams } from 'next/navigation';\nimport { PageHeader } from '@/components/page-header';\nimport { Button } from '@/components/ui/button';\nimport { Share2, Download, Copy, Calendar as CalendarIcon } from 'lucide-react';\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from '@/components/ui/popover';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { ItineraryBuilder } from '@/components/itinerary-builder';\nimport type { Trip, ItineraryDay } from '@/lib/types';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { eachDayOfInterval, startOfDay, format, isSameDay } from 'date-fns';\nimport { useToast } from '@/hooks/use-toast';\nimport { generatePdf } from '@/lib/pdf-generator';\nimport { cn } from '@/lib/utils';\nimport { Calendar } from '@/components/ui/calendar';\n\n\nfunction TripDetailsSkeleton() {\n    return (\n        <div>\n            <PageHeader title={<Skeleton className='h-9 w-64' />} >\n                 <div className=\"flex gap-2\">\n                    <Skeleton className='h-10 w-24' />\n                    <Skeleton className='h-10 w-36' />\n                    <Skeleton className='h-10 w-28' />\n                 </div>\n            </PageHeader>\n            <div className=\"grid grid-cols-1 gap-6 lg:grid-cols-3\">\n              <div className=\"space-y-6 lg:col-span-2\">\n                  <Card>\n                      <CardContent className=\"p-6\">\n                          <Skeleton className=\"h-6 w-48 mb-4\" />\n                          <Skeleton className=\"h-24 w-full\" />\n                      </CardContent>\n                  </Card>\n                   <Card>\n                      <CardContent className=\"p-6\">\n                          <div className=\"flex h-[200px] flex-col items-center justify-center rounded-lg border-2 border-dashed text-center\">\n                             <Skeleton className=\"h-6 w-48\" />\n                             <Skeleton className=\"mt-2 h-4 w-64\" />\n                          </div>\n                      </CardContent>\n                  </Card>\n              </div>\n               <div className=\"space-y-6 lg:col-span-1\">\n                 <Card>\n                    <CardHeader>\n                        <CardTitle>\n                             <Skeleton className=\"h-6 w-32\" />\n                        </CardTitle>\n                    </CardHeader>\n                    <CardContent className=\"p-6 pt-0\">\n                        <div className=\"space-y-4\">\n                           <Skeleton className=\"h-8 w-full\" />\n                           <Skeleton className=\"h-8 w-full\" />\n                           <Skeleton className=\"h-8 w-full\" />\n                        </div>\n                    </CardContent>\n                </Card>\n               </div>\n            </div>\n        </div>\n    )\n}\n\nexport default function TripDetailsPage() {\n  const params = useParams();\n  const tripId = params.id as string;\n  const { toast } = useToast();\n  \n  const [trip, setTrip] = useState<Trip | null>(null);\n  const [days, setDays] = useState<ItineraryDay[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [isDownloading, setIsDownloading] = useState(false);\n  const [isPending, startTransition] = useTransition();\n\n  useEffect(() => {\n    async function fetchData() {\n      if (!tripId) return;\n      try {\n        setLoading(true);\n        const tripData = await getTrip(tripId);\n        if (!tripData) {\n          notFound();\n          return;\n        }\n        \n        const tripDateRange = eachDayOfInterval({\n            start: tripData.startDate,\n            end: tripData.endDate,\n        });\n\n        const newDays: ItineraryDay[] = tripDateRange.map((date, index) => {\n            const existingDay = tripData.days.find(d => isSameDay(startOfDay(d.date), startOfDay(date)));\n            if (existingDay) return existingDay;\n            return {\n                id: `day_${date.getTime()}`,\n                dayIndex: index + 1,\n                date: date,\n                title: `Day ${index + 1}`,\n                activities: [],\n            };\n        });\n\n        setTrip(tripData);\n        setDays(newDays);\n\n      } catch (err) {\n        console.error(\"Failed to fetch trip data:\", err);\n        toast({ variant: 'destructive', title: \"Error\", description: \"Could not load trip data.\"})\n      } finally {\n        setLoading(false);\n      }\n    }\n    fetchData();\n  }, [tripId, toast]);\n\n  const handleTripChange = (field: keyof Trip, value: any) => {\n    if (trip) {\n      setTrip(prev => prev ? { ...prev, [field]: value } : null);\n    }\n  };\n\n  const handleDateChange = (range: {from: Date, to: Date} | undefined) => {\n      if (trip && range?.from && range?.to) {\n        const updatedTrip = { ...trip, startDate: range.from, endDate: range.to };\n        \n        const tripDateRange = eachDayOfInterval({\n            start: updatedTrip.startDate,\n            end: updatedTrip.endDate,\n        });\n\n         const newDays: ItineraryDay[] = tripDateRange.map((date, index) => {\n            const existingDay = trip.days.find(d => isSameDay(startOfDay(d.date), startOfDay(date)));\n            if (existingDay) {\n                return {...existingDay, date: startOfDay(date), dayIndex: index + 1};\n            }\n            return {\n                id: `day_${date.getTime()}`,\n                dayIndex: index + 1,\n                date: startOfDay(date),\n                title: `Day ${index + 1}`,\n                activities: [],\n            };\n        });\n        updatedTrip.days = newDays;\n        setDays(newDays);\n        setTrip(updatedTrip);\n      }\n  }\n\n  const handleDaysChange = (newDays: ItineraryDay[]) => {\n      setDays(newDays);\n      if (trip) {\n        setTrip({...trip, days: newDays});\n      }\n  }\n\n  const handleSaveChanges = () => {\n    if (!trip) return;\n    startTransition(async () => {\n        try {\n            await updateTrip(tripId, trip);\n            toast({ title: \"Success!\", description: \"Your trip has been updated.\" });\n        } catch (error: any) {\n            console.error(\"Failed to update trip:\", error);\n            toast({ variant: 'destructive', title: \"Error saving trip\", description: error.message || \"Could not save trip changes.\"})\n        }\n    })\n  }\n\n  const copyToClipboard = () => {\n    navigator.clipboard.writeText(shareableLink);\n    toast({ title: \"Link copied!\", description: \"Shareable link copied to clipboard.\" });\n  }\n\n  const handleDownloadPdf = async () => {\n    if (!trip) return;\n    setIsDownloading(true);\n    try {\n      await generatePdf(trip);\n    } catch(e) {\n      console.error(e);\n      toast({\n        variant: \"destructive\",\n        title: \"Error generating PDF\",\n        description: \"There was a problem creating the PDF file.\"\n      })\n    } finally {\n      setIsDownloading(false);\n    }\n  }\n\n  if (loading) {\n    return <TripDetailsSkeleton />;\n  }\n\n  if (!trip) {\n    return notFound();\n  }\n\n  const shareableLink = typeof window !== 'undefined' \n    ? `${window.location.origin}/share/${trip.id}` \n    : '';\n\n  return (\n    <div>\n      <PageHeader title={trip.title}>\n        <Button variant=\"outline\" onClick={handleDownloadPdf} disabled={isDownloading}>\n            <Download className=\"mr-2 h-4 w-4\" /> \n            {isDownloading ? 'Downloading...' : 'Download PDF'}\n        </Button>\n        <Popover>\n          <PopoverTrigger asChild>\n            <Button>\n              <Share2 className=\"mr-2 h-4 w-4\" /> Share\n            </Button>\n          </PopoverTrigger>\n          <PopoverContent align=\"end\" className=\"w-96\">\n            <div className=\"space-y-4\">\n              <div className=\"space-y-2\">\n                <h4 className=\"font-medium leading-none\">Share Itinerary</h4>\n                <p className=\"text-sm text-muted-foreground\">\n                  Anyone with this link can view the trip itinerary.\n                </p>\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <Input id=\"share-link\" readOnly value={shareableLink} className=\"flex-1\" />\n                <Button size=\"icon\" variant=\"outline\" onClick={copyToClipboard}>\n                  <Copy className=\"h-4 w-4\" />\n                </Button>\n              </div>\n            </div>\n          </PopoverContent>\n        </Popover>\n         <Button onClick={handleSaveChanges} disabled={isPending}>\n          {isPending ? \"Saving...\" : \"Save Changes\"}\n        </Button>\n      </PageHeader>\n\n      <div className=\"grid grid-cols-1 gap-6 lg:grid-cols-3\">\n        <div className=\"space-y-6 lg:col-span-2 lg:order-last\">\n            <ItineraryBuilder \n                days={days}\n                onDaysChange={handleDaysChange} \n            />\n        </div>\n        <div className=\"space-y-6 lg:col-span-1 lg:order-first\">\n             <Card>\n                <CardHeader>\n                    <CardTitle className=\"text-lg\">Trip Details</CardTitle>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                    <div className=\"space-y-1\">\n                        <Label htmlFor=\"clientName\">Client Name</Label>\n                        <Input \n                            id=\"clientName\" \n                            value={trip.clientName || ''} \n                            onChange={(e) => handleTripChange('clientName', e.target.value)}\n                        />\n                    </div>\n                    <div className=\"space-y-1\">\n                        <Label htmlFor=\"clientEmail\">Client Email</Label>\n                         <Input \n                            id=\"clientEmail\" \n                            type=\"email\"\n                            value={trip.clientEmail || ''} \n                            onChange={(e) => handleTripChange('clientEmail', e.target.value)}\n                        />\n                    </div>\n                     <div className=\"space-y-1\">\n                        <Label htmlFor=\"clientPhone\">Client Phone</Label>\n                         <Input \n                            id=\"clientPhone\" \n                            type=\"tel\"\n                            value={trip.clientPhone || ''} \n                            onChange={(e) => handleTripChange('clientPhone', e.target.value)}\n                        />\n                    </div>\n                     <div className=\"space-y-1\">\n                        <Label>Trip Dates</Label>\n                         <Popover>\n                            <PopoverTrigger asChild>\n                                <Button\n                                  variant={'outline'}\n                                  className={cn(\n                                    'w-full justify-start text-left font-normal',\n                                    !trip.startDate && 'text-muted-foreground'\n                                  )}\n                                >\n                                  <CalendarIcon className=\"mr-2 h-4 w-4\" />\n                                  {trip.startDate ? (\n                                    trip.endDate ? (\n                                      <>\n                                        {format(trip.startDate, 'LLL dd, y')} -{' '}\n                                        {format(trip.endDate, 'LLL dd, y')}\n                                      </>\n                                    ) : (\n                                      format(trip.startDate, 'LLL dd, y')\n                                    )\n                                  ) : (\n                                    <span>Pick a date range</span>\n                                  )}\n                                </Button>\n                            </PopoverTrigger>\n                            <PopoverContent className=\"w-auto p-0\" align=\"start\">\n                              <Calendar\n                                initialFocus\n                                mode=\"range\"\n                                defaultMonth={trip.startDate}\n                                selected={{ from: trip.startDate, to: trip.endDate }}\n                                onSelect={(range) => handleDateChange(range as { from: Date; to: Date; })}\n                                numberOfMonths={2}\n                              />\n                            </PopoverContent>\n                          </Popover>\n                    </div>\n                </CardContent>\n            </Card>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}